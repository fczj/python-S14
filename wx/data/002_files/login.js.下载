define('components/data-login/src/login', function(require, exports, module) {

  var $ = require('components/jquery/jquery');
  require('components/bootstrap-modal/modal');
  
  var css = "#C_taosj-login .close{position:absolute;top:10px;right:10px;z-index:2;background:0 0;border:0}#C_taosj-login .close span{display:block;width:50px;height:50px;line-height:50px;color:#fff;font-size:0;text-align:center;background:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAxMkVCQkZBRjBFMzExRTRBMDNGOTBGMDA5NkU2NzFFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAxMkVCQkZCRjBFMzExRTRBMDNGOTBGMDA5NkU2NzFFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDEyRUJCRjhGMEUzMTFFNEEwM0Y5MEYwMDk2RTY3MUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDEyRUJCRjlGMEUzMTFFNEEwM0Y5MEYwMDk2RTY3MUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7Lc1a2AAABlklEQVR42rTWSU4CQRTG8dKlE7QCCuLATfQSXs4rmLhm6RjBCRSUoRVMXJvowmhclK/iq/il0kMVVHfyX/RUP5rAS89IKfeFEDVqj3oT2Wwl6oBqCwLP5d92TS1TwnMlqsNGXR1Yox4BDTxiRcBaVEGfyAJV2D1gal/gBWVAr6i8J6ytMRPUaG9KVC1+F4VFgaoKoJeOaJERyU9YNK+Ju1GhfUBzllgrCUsCXdECYJ04LA1UrVMDXqgZg1pjNqCJNgx0hboFrJS2nu2PoQroBaOIdW0wF1CjQ0BvAFu1Xcf1P6bQUP5vDy6YatZx6n9SH7D/Tn05reDw6QKes5JHoH7SM8v/qdNXamJq2G9QT4Au+QIDnqsaK8O5TUBPbdA0LA9Yz8AQfQZ0cVIwzyNNY5WEa63RuAVygPVTMN0WNeJ7TqgFW3ASzBqNwpp8w4DnqOtw2Ab02ERNrDElhugY0HkTzPF81FjVw0tUDdAjjZrY0BOG6Augc+pgnQ+EnrEo9FAN7x+qS+1Qrxm85o+oXSqkvn8FGAC4+cXax7saRQAAAABJRU5ErkJggg==\") 11px 11px no-repeat}#C_taosj-login .close:hover{background:#f60;cursor:pointer}#C_taosj-login .close:focus{outline:0}#C_taosj-login .modal-content{background:url(\"data:image/gif;base64,R0lGODlhHAAcAPeWANHR0b+/v56enri4uLKysqampoyMjNnZ2XNzc1lZWfT09O3t7fLy8u/v7/Pz8/f39/Dw8Pb29uvr6/Hx8ebm5vj4+PX19dfX1+7u7uPj4+np6dzc3Pn5+ejo6Orq6ufn5/r6+uTk5OXl5ezs7ODg4NPT097e3s7OztjY2N/f39ra2v39/eLi4sHBwd3d3dvb2+Hh4fz8/K+vr9LS0sjIyPv7+7W1tcLCwry8vMrKytTU1MTExMXFxaenp7q6uru7u6mpqdXV1cnJyaOjo83NzaioqM/Pz/7+/tbW1rm5uZ2dnbS0tKKiorGxsaurq5GRkcPDw66urpubm1paWqCgoL29vY2Njbe3t6GhocbGxm9vb3R0dKqqqnh4eICAgMvLy4aGhl5eXr6+vnZ2drOzs62trXJycpeXl5CQkI+Pj5SUlLa2tmlpaXd3d4GBgVhYWJycnF1dXbCwsGBgYJOTk39/f6SkpJ+fn8DAwHp6etDQ0KysrFdXV2pqanx8fHl5eVZWVmFhYZWVlZiYmIKCgqWlpYuLi5aWln19fYqKiomJiVxcXGhoaJKSksfHx35+foiIiGdnZ19fX3BwcJmZmczMzP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI5RDJEMjlGREI4NTExRTA4MDMzRkNFNkY2RDA0OTNEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI5RDJEMkEwREI4NTExRTA4MDMzRkNFNkY2RDA0OTNEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjlEMkQyOUREQjg1MTFFMDgwMzNGQ0U2RjZEMDQ5M0QiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjlEMkQyOUVEQjg1MTFFMDgwMzNGQ0U2RjZEMDQ5M0QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIx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\") center center no-repeat #fbfbfb;border:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}#C_taosj-login .modal-body{padding:0}#C_taosj-login iframe{background:transparent}";
  require.loadCss({content: css});
  
  var Login = {
  	init: function(){
  		this.render();
  		this.callback = null;
  		
  	},
  	_rendered: false,
  	render: function(){
  		if(this._rendered === true){
  			return;
  		}
  		var TEMP = "<div class=\"modal fade\" id=\"C_taosj-login\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t<!--[if lt IE 9]>\r\n\t<style>\r\n\t\t#C_taosj-login .modal-dialog{width: 600px;position: absolute; left: 50%; margin-left: -300px; top: 10px;}\r\n\t</style>\r\n\t<![endif]-->\r\n\t<div class=\"modal-dialog\">\r\n\t\t<div class=\"modal-content\">\r\n\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n\t\t\t <div class=\"modal-body\">\r\n\t\t\t\t<iframe src=\"about:blank\" width=\"600\" height=\"380\" border=\"0\" allowtransparency=\"true\" scrolling=\"no\" frameborder=\"no\" ></iframe>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>";
  		this.$el = $(TEMP).appendTo('body');
  		this._rendered = true;
  		//暂时放这里
  		this.addEvent();
  	},
  	addEvent: function(){
  		var _this = this;
  		$(window).on('message', function(e){
  			e = e.originalEvent;
  			if(e.origin !== 'https://login.taosj.com' && e.origin !== 'http://login.taosj.com'){
  				return;
  			}
  			var data = {};
  			try{
  				data = JSON.parse(e.data);
  			}catch(e){
  				data = null;
  			}
  
  			$('#C_taosj-login').modal('hide');
  			if(data === null){
  				window.location.reload();
  				return;
  			} 
  			
  			if(data.loginStatus != ''){
  				_this.callback();
  			}else if(data.redirectURL){
  				window.location.href = data.redirectURL;
  			}
  		})
  	},
  	updateFrame: function(){
  		var src = '//login.taosj.com/?style=win&redirectURL='+encodeURIComponent(window.location.href);
  		this.$el.find('iframe').attr('src', src);
  	},
  	show: function(callback){
  		this.callback = callback || function(){};
  		this.render();
  		this.updateFrame();
  		//@todo close clean callback
  		$('#C_taosj-login').modal('show');
  	}
  };
  module.exports = Login;

});
